<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MEEMON üîÆ ‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏û‡πà‡∏¢‡∏¥‡∏õ‡∏ã‡∏µ ‚Äî ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 4 ‡∏î‡πâ‡∏≤‡∏ô</title>
  <meta name="description" content="‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏û‡πà‡∏¢‡∏¥‡∏õ‡∏ã‡∏µ 78 ‡πÉ‡∏ö (‡∏†‡∏≤‡∏û Wikipedia) ‡∏û‡∏•‡∏¥‡∏Å‡πÑ‡∏û‡πà 3D 1.2 ‡∏ß‡∏¥ + ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏ü‡∏ô‡∏ï‡∏≤‡∏ã‡∏µ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡πà‡∏≥‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏û‡πà‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏î‡∏¥‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 4 ‡∏î‡πâ‡∏≤‡∏ô (‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏á‡∏≤‡∏ô/‡πÄ‡∏á‡∏¥‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å)" />
  <link rel="preconnect" href="https://commons.wikimedia.org" crossorigin>
  <link rel="preconnect" href="https://upload.wikimedia.org" crossorigin>
  <style>
    :root{--dur:1.2s}
    body{font-family:'Sarabun','Noto Sans Thai',system-ui,Segoe UI,Roboto,Arial,sans-serif;margin:0;
         background:#0f1020;color:#eef;display:flex;align-items:center;justify-content:center;min-height:100vh}
    .wrap{max-width:980px;width:96%;text-align:center;padding:18px}
    .card{background:#161832;border:1px solid #29305f;border-radius:18px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.45)}
    h1{margin:.2rem 0 1rem 0;font-size:1.35rem}
    button{padding:12px 18px;border-radius:12px;border:1px solid #2a2f5a;background:#222764;color:#fff;cursor:pointer;font-size:1rem}
    button:hover{filter:brightness(1.08)}
    .stage{perspective:1200px;margin:14px auto}
    .flip3d{position:relative;width:240px;height:360px;margin:0 auto;transform-style:preserve-3d;transition:transform var(--dur) cubic-bezier(.2,.7,.1,1);}
    .face{position:absolute;inset:0;border-radius:12px;border:1px solid #2a2f5a;overflow:hidden;background:#11173a}
    .face img{width:100%;height:100%;object-fit:cover}
    .front{backface-visibility:hidden;z-index:2; transform: rotateY(0deg);}
    .back{backface-visibility:hidden; transform: rotateY(180deg);}
    .frontImg.rotated{transform:rotate(180deg)}
    .name{font-weight:800;font-size:1.15rem;margin-top:10px}
    .tags{color:#bac0ff;font-size:.95rem;margin-top:2px}
    .meaning{margin-top:10px;line-height:1.65;text-align:left;display:inline-block;text-align: left;max-width:900px;width:100%}
    .meaning .base{background:#121636;border:1px dashed #2b3470;border-radius:12px;padding:10px 12px;margin-bottom:8px}
    .meaning h3{font-size:1.0rem;margin:.6rem 0 .2rem 0;color:#c9ceff}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;margin-top:6px}
    .panel{background:#101435;border:1px solid #283268;border-radius:12px;padding:10px 12px;text-align:left}
    .panel b{color:#e8ebff}
    .muted{color:#9ca6ff9a;font-size:.9rem;margin-top:8px}
    .skeleton{position:absolute;inset:0;border-radius:12px;border:1px solid #2a2f5a;background:linear-gradient(90deg,#1c2149 25%,#222863 37%,#1c2149 63%);background-size:400% 100%;animation:shimmer 1.2s infinite}
    @keyframes shimmer{0%{background-position:100% 0}100%{background-position:0 0}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>MEEMON üîÆ ‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏û‡πà‡∏¢‡∏¥‡∏õ‡∏ã‡∏µ</h1>
      <div><button id="drawBtn">‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏û‡πà</button></div>

      <div class="stage">
        <div class="flip3d" id="flip" style="transform:rotateY(180deg)">
          <!-- Front = ‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏û‡πà (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ã‡πà‡∏≠‡∏ô), Back = ‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏û‡πà (‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏ä‡∏ß‡πå) -->
          <div class="face front">
            <div class="skeleton" id="skFront" hidden></div>
            <img id="imgFront" class="frontImg" alt="tarot front" loading="eager" decoding="async" width="240" height="360">
          </div>
          <div class="face back">
            <img id="imgBack" alt="tarot back" loading="eager" decoding="async" width="240" height="360"
                 src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Waite%E2%80%93Smith_Tarot_Roses_and_Lilies_cropped.jpg/330px-Waite%E2%80%93Smith_Tarot_Roses_and_Lilies_cropped.jpg"
                 srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Waite%E2%80%93Smith_Tarot_Roses_and_Lilies_cropped.jpg/330px-Waite%E2%80%93Smith_Tarot_Roses_and_Lilies_cropped.jpg 480w"
                 sizes="240px">
          </div>
        </div>
      </div>

      <div class="name" id="name">‚Äî</div>
      <div class="tags" id="tags">‚Äî</div>
      <div class="meaning" id="meaning">
        <div class="base">‡∏Å‡∏î ‚Äú‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏û‡πà‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏° + ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ <b>‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 4 ‡∏î‡πâ‡∏≤‡∏ô</b> (‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô/‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å)</div>
      </div>
      <div class="muted">MEEMON</div>
    </div>
  </div>

  <script>
    // ===== Dataset (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Major ‡∏Ñ‡∏£‡∏ö) =====
    const CARDS = [{"name_en": "The Fool", "name_th": "‡∏Ñ‡∏ô‡πÇ‡∏á‡πà", "arcana": "Major", "number": 0, "img": "https://upload.wikimedia.org/wikipedia/commons/9/90/RWS_Tarot_00_Fool.jpg", "upright": "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà ‡∏≠‡∏¥‡∏™‡∏£‡∏∞ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à", "reversed": "‡∏´‡∏∏‡∏ô‡∏´‡∏±‡∏ô ‡∏Ç‡∏≤‡∏î‡πÅ‡∏ú‡∏ô"},
      {"name_en": "The Magician", "name_th": "‡∏à‡∏≠‡∏°‡πÄ‡∏ß‡∏ó", "arcana": "Major", "number": 1, "img": "https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg", "upright": "‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°", "reversed": "‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡∏ú‡∏¥‡∏î‡∏ó‡∏≤‡∏á ‡∏´‡∏•‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á"},
      {"name_en": "The High Priestess", "name_th": "‡∏õ‡∏∏‡πÇ‡∏£‡∏´‡∏¥‡∏ï‡∏´‡∏ç‡∏¥‡∏á", "arcana": "Major", "number": 2, "img": "https://upload.wikimedia.org/wikipedia/commons/8/88/RWS_Tarot_02_High_Priestess.jpg", "upright": "‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö", "reversed": "‡∏™‡∏±‡∏ö‡∏™‡∏ô ‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏î"},
      {"name_en": "The Empress", "name_th": "‡∏à‡∏±‡∏Å‡∏£‡∏û‡∏£‡∏£‡∏î‡∏¥‡∏ô‡∏µ", "arcana": "Major", "number": 3, "img": "https://upload.wikimedia.org/wikipedia/commons/d/d2/RWS_Tarot_03_Empress.jpg", "upright": "‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡∏î‡∏π‡πÅ‡∏• ‡πÄ‡∏≠‡∏∑‡πâ‡∏≠‡πÄ‡∏ü‡∏∑‡πâ‡∏≠", "reversed": "‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏û‡∏∞‡∏ß‡∏á"},
      {"name_en": "The Emperor", "name_th": "‡∏à‡∏±‡∏Å‡∏£‡∏û‡∏£‡∏£‡∏î‡∏¥", "arcana": "Major", "number": 4, "img": "https://upload.wikimedia.org/wikipedia/commons/c/c3/RWS_Tarot_04_Emperor.jpg", "upright": "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á ‡∏Å‡∏é ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö", "reversed": "‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏Å‡∏¥‡∏ô ‡πÄ‡∏ú‡∏î‡πá‡∏à‡∏Å‡∏≤‡∏£"},
      {"name_en": "The Hierophant", "name_th": "‡∏™‡∏±‡∏á‡∏Ü‡∏£‡∏≤‡∏ä", "arcana": "Major", "number": 5, "img": "https://upload.wikimedia.org/wikipedia/commons/8/8d/RWS_Tarot_05_Hierophant.jpg", "upright": "‡∏Ñ‡∏£‡∏π ‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏ì‡∏µ ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô", "reversed": "‡∏´‡∏±‡∏ß‡πÇ‡∏ö‡∏£‡∏≤‡∏ì ‡∏¢‡∏∂‡∏î‡∏ï‡∏¥‡∏î"},
      {"name_en": "The Lovers", "name_th": "‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å", "arcana": "Major", "number": 6, "img": "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_06_Lovers.jpg", "upright": "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡πÉ‡∏à ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å", "reversed": "‡∏•‡∏±‡∏á‡πÄ‡∏• ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô"},
      {"name_en": "The Chariot", "name_th": "‡∏£‡∏≤‡∏ä‡∏£‡∏ñ", "arcana": "Major", "number": 7, "img": "https://upload.wikimedia.org/wikipedia/commons/9/9b/RWS_Tarot_07_Chariot.jpg", "upright": "‡∏°‡∏∏‡πà‡∏á‡∏°‡∏±‡πà‡∏ô ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° ‡∏ä‡∏±‡∏¢‡∏ä‡∏ô‡∏∞", "reversed": "‡∏Ñ‡∏∏‡∏°‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà ‡∏´‡∏∏‡∏ô‡∏´‡∏±‡∏ô"},
      {"name_en": "Strength", "name_th": "‡∏û‡∏•‡∏±‡∏á‡πÉ‡∏à", "arcana": "Major", "number": 8, "img": "https://upload.wikimedia.org/wikipedia/commons/f/f5/RWS_Tarot_08_Strength.jpg", "upright": "‡πÉ‡∏à‡∏ô‡∏¥‡πà‡∏á ‡∏≠‡∏î‡∏ó‡∏ô ‡πÄ‡∏°‡∏ï‡∏ï‡∏≤", "reversed": "‡∏ó‡πâ‡∏≠‡πÅ‡∏ó‡πâ ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏û‡∏∏‡πà‡∏á"},
      {"name_en": "The Hermit", "name_th": "‡∏§‡πÖ‡∏©‡∏µ", "arcana": "Major", "number": 9, "img": "https://upload.wikimedia.org/wikipedia/commons/4/4d/RWS_Tarot_09_Hermit.jpg", "upright": "‡πÉ‡∏Ñ‡∏£‡πà‡∏Ñ‡∏£‡∏ß‡∏ç ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ ‡∏•‡∏≥‡∏û‡∏±‡∏á", "reversed": "‡πÇ‡∏î‡∏î‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏´‡∏ô‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤"},
      {"name_en": "Wheel of Fortune", "name_th": "‡∏Å‡∏á‡∏•‡πâ‡∏≠‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤", "arcana": "Major", "number": 10, "img": "https://upload.wikimedia.org/wikipedia/commons/3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg", "upright": "‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏î‡∏µ ‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤‡∏´‡∏°‡∏∏‡∏ô", "reversed": "‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ï‡∏Å ‡∏Ñ‡∏∏‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"},
      {"name_en": "Justice", "name_th": "‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°", "arcana": "Major", "number": 11, "img": "https://upload.wikimedia.org/wikipedia/commons/e/e0/RWS_Tarot_11_Justice.jpg", "upright": "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• ‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏° ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£", "reversed": "‡πÑ‡∏°‡πà‡πÅ‡∏ü‡∏£‡πå ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î"},
      {"name_en": "The Hanged Man", "name_th": "‡∏Ñ‡∏ô‡∏ñ‡∏π‡∏Å‡πÅ‡∏Ç‡∏ß‡∏ô", "arcana": "Major", "number": 12, "img": "https://upload.wikimedia.org/wikipedia/commons/2/2b/RWS_Tarot_12_Hanged_Man.jpg", "upright": "‡∏°‡∏∏‡∏°‡πÉ‡∏´‡∏°‡πà ‡∏¢‡∏≠‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏™‡∏•‡∏∞", "reversed": "‡∏ï‡∏¥‡∏î‡∏´‡∏•‡πà‡∏° ‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠"},
      {"name_en": "Death", "name_th": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏¢", "arcana": "Major", "number": 13, "img": "https://upload.wikimedia.org/wikipedia/commons/d/d7/RWS_Tarot_13_Death.jpg", "upright": "‡∏à‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏´‡∏ç‡πà", "reversed": "‡∏¢‡∏∑‡πâ‡∏≠ ‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô"},
      {"name_en": "Temperance", "name_th": "‡∏û‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì", "arcana": "Major", "number": 14, "img": "https://upload.wikimedia.org/wikipedia/commons/f/f8/RWS_Tarot_14_Temperance.jpg", "upright": "‡∏™‡∏°‡∏î‡∏∏‡∏• ‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô ‡πÑ‡∏´‡∏•‡∏•‡∏∑‡πà‡∏ô", "reversed": "‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á ‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ï‡∏±‡∏ß"},
      {"name_en": "The Devil", "name_th": "‡∏õ‡∏µ‡∏®‡∏≤‡∏à", "arcana": "Major", "number": 15, "img": "https://upload.wikimedia.org/wikipedia/commons/5/55/RWS_Tarot_15_Devil.jpg", "upright": "‡∏ú‡∏π‡∏Å‡∏°‡∏±‡∏î ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß/‡∏™‡∏¥‡πà‡∏á‡∏•‡πà‡∏≠‡πÉ‡∏à", "reversed": "‡∏ï‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏î‡∏õ‡∏•‡πà‡∏≠‡∏¢"},
      {"name_en": "The Tower", "name_th": "‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢", "arcana": "Major", "number": 16, "img": "https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg", "upright": "‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏á ‡πÄ‡∏´‡∏ï‡∏∏‡πÑ‡∏°‡πà‡∏Ñ‡∏≤‡∏î‡∏Ñ‡∏¥‡∏î", "reversed": "‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á"},
      {"name_en": "The Star", "name_th": "‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß", "arcana": "Major", "number": 17, "img": "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_17_Star.jpg", "upright": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏±‡∏á ‡∏ü‡∏∑‡πâ‡∏ô‡∏ï‡∏±‡∏ß ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á", "reversed": "‡∏´‡∏ß‡∏±‡∏á‡∏•‡∏°‡πÜ‡πÅ‡∏•‡πâ‡∏á‡πÜ"},
      {"name_en": "The Moon", "name_th": "‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", "arcana": "Major", "number": 18, "img": "https://upload.wikimedia.org/wikipedia/commons/7/7f/RWS_Tarot_18_Moon.jpg", "upright": "‡∏Ñ‡∏•‡∏∏‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠ ‡∏ù‡∏±‡∏ô ‡∏•‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏´‡∏£‡∏ì‡πå", "reversed": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏ú‡∏¢"},
      {"name_en": "The Sun", "name_th": "‡∏û‡∏£‡∏∞‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", "arcana": "Major", "number": 19, "img": "https://upload.wikimedia.org/wikipedia/commons/1/17/RWS_Tarot_19_Sun.jpg", "upright": "‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏î‡∏µ", "reversed": "‡∏î‡∏µ‡πÅ‡∏ï‡πà‡∏ä‡πâ‡∏≤‡∏•‡∏á/‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ"},
      {"name_en": "Judgement", "name_th": "‡∏û‡∏¥‡∏û‡∏≤‡∏Å‡∏©‡∏≤", "arcana": "Major", "number": 20, "img": "https://upload.wikimedia.org/wikipedia/commons/d/dd/RWS_Tarot_20_Judgement.jpg", "upright": "‡∏ï‡∏∑‡πà‡∏ô‡∏£‡∏π‡πâ ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç", "reversed": "‡∏•‡∏±‡∏á‡πÄ‡∏• ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏≠‡∏†‡∏±‡∏¢‡∏ï‡∏ô"},
      {"name_en": "The World", "name_th": "‡πÇ‡∏•‡∏Å", "arcana": "Major", "number": 21, "img": "https://upload.wikimedia.org/wikipedia/commons/f/ff/RWS_Tarot_21_World.jpg", "upright": "‡∏à‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡∏ß‡∏á‡∏à‡∏£‡πÉ‡∏´‡∏°‡πà", "reversed": "‡∏ß‡∏ô‡∏•‡∏π‡∏õ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô"}];

    const REVERSED_PROB = 0.45;
    const WIDTHS = [320, 480, 640];

    // ===== ‡∏†‡∏≤‡∏û =====
    function thumb(url, w){ return url + (url.includes('?') ? '&' : '?') + 'width=' + w; }
    function setResponsive(imgEl, baseUrl){
      imgEl.srcset = WIDTHS.map(w => thumb(baseUrl, w) + ' ' + w + 'w').join(', ');
      imgEl.sizes = '(max-width: 480px) 320px, (max-width: 768px) 480px, 640px';
      imgEl.src = thumb(baseUrl, 480);
    }

    // ===== ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î =====
    const suitTheme = {
      Wands:   {th: "‡∏á‡∏≤‡∏ô/‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à", study:"‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô", work:"‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå ‡πÑ‡∏ü‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô", money:"‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô", love:"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏≤‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤"},
      Cups:    {th: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å", study:"‡∏®‡∏¥‡∏•‡∏õ‡∏∞ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå", work:"‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£", money:"‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç/‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß", love:"‡∏ú‡∏π‡∏Å‡∏û‡∏±‡∏ô ‡∏≠‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß ‡πÇ‡∏£‡πÅ‡∏°‡∏ô‡∏ï‡∏¥‡∏Å"},
      Swords:  {th: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á", study:"‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• ‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î", work:"‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå ‡∏Ç‡πâ‡∏≠‡∏û‡∏¥‡∏û‡∏≤‡∏ó", money:"‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ‡∏´‡∏ô‡∏µ‡πâ ‡∏†‡∏≤‡∏£‡∏∞‡∏ó‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î", love:"‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤ ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå"},
      Pentacles:{th:"‡πÄ‡∏á‡∏¥‡∏ô/‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô", study:"‡∏ß‡∏¥‡∏ô‡∏±‡∏¢ ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥", work:"‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏†‡∏≤‡∏û ‡∏á‡∏≤‡∏ô‡∏ä‡πà‡∏≤‡∏á/‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå", money:"‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≠‡∏° ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á", love:"‡∏î‡∏π‡πÅ‡∏•‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ"}
    };
    const numberTone = {
      1:{key:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô", up:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏ß‡∏≤‡∏á‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô", rv:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏£‡∏µ‡∏ö‡πÄ‡∏£‡πà‡∏á/‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°"},
      2:{key:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å/‡∏™‡∏°‡∏î‡∏∏‡∏•", up:"‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á", rv:"‡∏•‡∏±‡∏á‡πÄ‡∏• ‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÄ‡∏≠‡∏ô‡πÄ‡∏≠‡∏µ‡∏¢‡∏á"},
      3:{key:"‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ú‡∏•", up:"‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠", rv:"‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏î‡∏∏‡∏î"},
      4:{key:"‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏†‡∏≤‡∏û", up:"‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡∏ß‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö", rv:"‡∏¢‡∏∂‡∏î‡∏ï‡∏¥‡∏î ‡πÅ‡∏Ç‡πá‡∏á‡∏ï‡∏±‡∏ß"},
      5:{key:"‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢", up:"‡∏ú‡πà‡∏≤‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï ‡∏ù‡∏∂‡∏Å‡πÅ‡∏Å‡∏£‡πà‡∏á", rv:"‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á ‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢"},
      6:{key:"‡πÑ‡∏´‡∏•‡∏•‡∏∑‡πà‡∏ô", up:"‡∏™‡∏°‡∏î‡∏∏‡∏• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ü‡∏∑‡πâ‡∏ô‡∏ï‡∏±‡∏ß", rv:"‡∏û‡∏∂‡πà‡∏á‡∏û‡∏¥‡∏á‡∏°‡∏≤‡∏Å‡πÑ‡∏õ ‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤"},
      7:{key:"‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô", up:"‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô ‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå", rv:"‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏ô‡∏≤‡∏ô ‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏ô"},
      8:{key:"‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏à‡∏£‡∏¥‡∏á", up:"‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô ‡∏ß‡∏¥‡∏ô‡∏±‡∏¢", rv:"‡∏à‡∏≥‡πÄ‡∏à ‡∏•‡πâ‡∏≤ ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û"},
      9:{key:"‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", up:"‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô", rv:"‡∏£‡∏∞‡πÅ‡∏ß‡∏á ‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏≠‡πà‡∏≠‡∏ô"},
      10:{key:"‡∏à‡∏ö‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£", up:"‡∏ö‡∏£‡∏£‡∏•‡∏∏‡∏ú‡∏•/‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡∏≤‡∏á", rv:"‡πÅ‡∏ö‡∏Å‡∏£‡∏±‡∏ö‡∏°‡∏≤‡∏Å‡πÑ‡∏õ ‡∏ß‡∏ô‡∏ã‡πâ‡∏≥"}
    };
    const courtRole = {
      11:{name:"‡∏Ñ‡∏ô‡∏ñ‡∏∑‡∏≠‡∏™‡∏≤‡∏£ (Page)", up:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ/‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà", rv:"‡πÑ‡∏£‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå ‡∏´‡∏∏‡∏ô‡∏´‡∏±‡∏ô"},
      12:{name:"‡∏≠‡∏±‡∏®‡∏ß‡∏¥‡∏ô (Knight)", up:"‡∏•‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏£‡πá‡∏ß ‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤", rv:"‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏ô ‡∏Ç‡∏≤‡∏î‡πÅ‡∏ú‡∏ô"},
      13:{name:"‡∏£‡∏≤‡∏ä‡∏¥‡∏ô‡∏µ (Queen)", up:"‡∏î‡∏π‡πÅ‡∏• ‡∏™‡∏±‡πà‡∏á‡∏™‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û", rv:"‡∏≠‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß ‡∏´‡∏ß‡∏á/‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°"},
      14:{name:"‡∏£‡∏≤‡∏ä‡∏≤ (King)", up:"‡∏†‡∏≤‡∏ß‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥ ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°", rv:"‡∏¢‡∏∂‡∏î‡∏ï‡∏¥‡∏î‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡πÅ‡∏Ç‡πá‡∏á‡∏ó‡∏∑‡πà‡∏≠"}
    };
    const majorThemes = {
      "The Fool":       {up:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏™‡∏ï‡∏¥ ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏•‡∏Å", rv:"‡∏Ç‡∏≤‡∏î‡πÅ‡∏ú‡∏ô ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ó ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö"},
      "The Magician":   {up:"‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥ ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£", rv:"‡∏Å‡∏•‡∏•‡∏ß‡∏á/‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ú‡∏¥‡∏î‡∏ó‡∏¥‡∏®"},
      "The High Priestess":{up:"‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö", rv:"‡∏™‡∏±‡∏ö‡∏™‡∏ô ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö/‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏¢‡∏≤‡∏Å"},
      "The Empress":    {up:"‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏• ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≠‡∏Å‡∏á‡∏≤‡∏°", rv:"‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ/‡∏¢‡∏∂‡∏î‡∏ú‡∏¥‡∏ß‡πÄ‡∏ú‡∏¥‡∏ô"},
      "The Emperor":    {up:"‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à", rv:"‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏Å‡∏¥‡∏ô/‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏°‡∏≤‡∏Å‡πÑ‡∏õ"},
      "The Hierophant": {up:"‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏ì‡∏µ ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏Ñ‡∏£‡∏π", rv:"‡∏´‡∏±‡∏ß‡πÇ‡∏ö‡∏£‡∏≤‡∏ì/‡∏Å‡∏£‡∏≠‡∏ö‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß"},
      "The Lovers":     {up:"‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å/‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£", rv:"‡∏•‡∏±‡∏á‡πÄ‡∏• ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô"},
      "The Chariot":    {up:"‡πÇ‡∏ü‡∏Å‡∏±‡∏™ ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° ‡∏ä‡∏±‡∏¢‡∏ä‡∏ô‡∏∞", rv:"‡∏Ñ‡∏∏‡∏°‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà ‡∏´‡∏∏‡∏ô‡∏´‡∏±‡∏ô"},
      "Strength":       {up:"‡πÉ‡∏à‡∏ô‡∏¥‡πà‡∏á ‡πÄ‡∏°‡∏ï‡∏ï‡∏≤ ‡∏≠‡∏î‡∏ó‡∏ô", rv:"‡∏ó‡πâ‡∏≠‡πÅ‡∏ó‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡∏ù‡∏∑‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ"},
      "The Hermit":     {up:"‡πÉ‡∏Ñ‡∏£‡πà‡∏Ñ‡∏£‡∏ß‡∏ç ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á", rv:"‡πÇ‡∏î‡∏î‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏õ‡∏•‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏µ"},
      "Wheel of Fortune":{up:"‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏î‡∏µ ‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô", rv:"‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ï‡∏Å ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"},
      "Justice":        {up:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏° ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£", rv:"‡πÑ‡∏°‡πà‡πÅ‡∏ü‡∏£‡πå/‡∏Ñ‡∏î‡∏µ‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤"},
      "The Hanged Man": {up:"‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏¢‡∏≠‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏™‡∏•‡∏∞", rv:"‡∏ï‡∏¥‡∏î‡∏´‡∏•‡πà‡∏° ‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠"},
      "Death":          {up:"‡∏à‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏´‡∏ç‡πà", rv:"‡∏¢‡∏∑‡πâ‡∏≠/‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô"},
      "Temperance":     {up:"‡∏™‡∏°‡∏î‡∏∏‡∏• ‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô ‡πÑ‡∏´‡∏•‡∏•‡∏∑‡πà‡∏ô", rv:"‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á ‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ï‡∏±‡∏ß"},
      "The Devil":      {up:"‡∏ú‡∏π‡∏Å‡∏°‡∏±‡∏î ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß/‡∏™‡∏¥‡πà‡∏á‡∏•‡πà‡∏≠‡πÉ‡∏à", rv:"‡∏ï‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏î‡∏õ‡∏•‡πà‡∏≠‡∏¢"},
      "The Tower":      {up:"‡∏û‡∏±‡∏á‡∏ó‡∏•‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏´‡∏°‡πà", rv:"‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á/‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏´‡∏≤‡∏Å‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö"},
      "The Star":       {up:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏±‡∏á ‡∏Å‡∏≤‡∏£‡∏ü‡∏∑‡πâ‡∏ô‡∏ï‡∏±‡∏ß ‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à", rv:"‡∏´‡∏ß‡∏±‡∏á‡∏•‡∏°‡πÜ‡πÅ‡∏•‡πâ‡∏á‡πÜ/‡∏Ç‡∏≤‡∏î‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á"},
      "The Moon":       {up:"‡∏Ñ‡∏•‡∏∏‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠ ‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì ‡∏ù‡∏±‡∏ô", rv:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ú‡∏¢/‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß"},
      "The Sun":        {up:"‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏û‡∏•‡∏±‡∏á‡∏î‡∏µ", rv:"‡∏î‡∏µ‡πÅ‡∏ï‡πà‡∏ä‡πâ‡∏≤‡∏•‡∏á/‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ"},
      "Judgement":      {up:"‡∏™‡∏£‡∏∏‡∏õ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ï‡∏∑‡πà‡∏ô‡∏£‡∏π‡πâ ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Å‡∏•‡∏±‡∏ö", rv:"‡∏•‡∏±‡∏á‡πÄ‡∏• ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏≠‡∏†‡∏±‡∏¢‡∏ï‡∏ô"},
      "The World":      {up:"‡∏à‡∏ö‡∏£‡∏≠‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà", rv:"‡∏ß‡∏ô‡∏•‡∏π‡∏õ ‡∏¢‡∏±‡∏á‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"}
    };

    function buildDetails(card, reversed){
      const base = (reversed ? card.reversed : card.upright);
      const d = {study:"", work:"", money:"", love:""};

      if(card.arcana === "Major"){
        const t = majorThemes[card.name_en] || {up:base, rv:base};
        const theme = reversed ? t.rv : t.up;
        d.study = `‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ${theme.includes("‡πÄ‡∏£‡∏µ‡∏¢‡∏ô")?theme:`‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏¥‡∏á`} | ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô/‡∏õ‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢`;
        d.work  = `‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô: ${theme} | ‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå`;
        d.money = `‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô: ${theme.includes("‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå")?"‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÇ‡∏ï‡∏à‡∏≤‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á":"‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á/‡∏Å‡∏±‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô"} | ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô`;
        d.love  = `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å: ${theme} | ‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Å‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à‡∏Ñ‡∏∏‡∏¢‡∏ï‡∏£‡∏á ‡πÜ`;
      }else{
        const suit = suitTheme[card.suit] || {th:"",study:"",work:"",money:"",love:""};
        const num = card.number;
        const isCourt = num>=11;
        const tone = numberTone[num] || {key:"",up:"",rv:""};
        const role = isCourt ? courtRole[num] : null;
        const pos = reversed ? (isCourt ? role.rv : tone.rv) : (isCourt ? role.up : tone.up);

        d.study = `‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ${suit.study} ‚Ä¢ ‡πÄ‡∏•‡∏Ç${num}${role?` (${role.name})`:""} ‚Üí ${pos}. ‡πÄ‡∏ô‡πâ‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢/‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠`;
        d.work  = `‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô: ${suit.work} ‚Ä¢ ‡πÄ‡∏•‡∏Ç${num}${role?` (${role.name})`:""} ‚Üí ${pos}. ‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô/‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î`;
        d.money = `‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô: ${suit.money} ‚Ä¢ ‡πÄ‡∏•‡∏Ç${num}${role?` (${role.name})`:""} ‚Üí ${pos}. ‡∏ß‡∏≤‡∏á‡∏á‡∏ö/‡∏Å‡∏±‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á`;
        d.love  = `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å: ${suit.love} ‚Ä¢ ‡πÄ‡∏•‡∏Ç${num}${role?` (${role.name})`:""} ‚Üí ${pos}. ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤`;
      }
      return {base, ...d};
    }

    // ===== ‡πÄ‡∏™‡∏µ‡∏¢‡∏á + ‡∏û‡∏•‡∏¥‡∏Å =====
    function playChime(){
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const t0 = ctx.currentTime;
      const master = ctx.createGain(); master.gain.value = 0.6; master.connect(ctx.destination);
      function bell(freq, delay=0, dur=0.9, type='sine'){
        const o = ctx.createOscillator(); o.type = type; o.frequency.value = freq;
        const g = ctx.createGain(); g.gain.setValueAtTime(0, t0+delay);
        g.gain.linearRampToValueAtTime(0.9, t0+delay+0.02);
        g.gain.exponentialRampToValueAtTime(0.0001, t0+delay+dur);
        const lfo = ctx.createOscillator(); lfo.frequency.value = 6;
        const lfoGain = ctx.createGain(); lfoGain.gain.value = 6;
        lfo.connect(lfoGain); lfoGain.connect(o.frequency);
        o.connect(g); g.connect(master);
        o.start(t0+delay); lfo.start(t0+delay);
        o.stop(t0+delay+dur+0.1); lfo.stop(t0+delay+dur+0.1);
      }
      bell(880, 0.00, 1.0, 'sine');
      bell(1319.0, 0.05, 0.9, 'triangle');
      bell(1760.0, 0.10, 0.8, 'sine');
      const noise = ctx.createBufferSource();
      const len = ctx.sampleRate*0.3;
      const buf = ctx.createBuffer(1, len, ctx.sampleRate);
      const data = buf.getChannelData(0);
      for (let i=0;i<len;i++){ data[i] = (Math.random()*2-1) * Math.pow(1 - i/len, 1.5) * 0.3; }
      noise.buffer = buf;
      const g = ctx.createGain(); g.gain.setValueAtTime(0, t0);
      g.gain.linearRampToValueAtTime(0.4, t0+0.05);
      g.gain.exponentialRampToValueAtTime(0.001, t0+0.35);
      noise.connect(g); g.connect(master);
      noise.start(t0); noise.stop(t0+0.35);
    }

    let angle = 180; // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏ä‡∏ß‡πå‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏û‡πà
    let animating = false;

    function updateUI(card, reversed){
      const name = document.getElementById('name');
      const tags = document.getElementById('tags');
      const meaning = document.getElementById('meaning');

      const details = buildDetails(card, reversed);

      name.textContent = `${card.name_th} ¬∑ ${card.name_en} ${reversed?'(‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß)':''}`;
      tags.textContent = (card.arcana==='Major') ? '‡πÑ‡∏û‡πà‡πÉ‡∏´‡∏ç‡πà (Major Arcana)' : `‡πÑ‡∏û‡πà‡∏ä‡∏∏‡∏î‡πÄ‡∏•‡πá‡∏Å ¬∑ ‡∏ä‡∏∏‡∏î ${card.suit || '-'}`;

      meaning.innerHTML = `
        <div class="base"><b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏î‡∏¥‡∏°:</b> ${reversed?card.reversed:card.upright}</div>
        <div class="grid">
          <div class="panel"><b>üìö ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</b><br>${details.study}</div>
          <div class="panel"><b>üíº ‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô</b><br>${details.work}</div>
          <div class="panel"><b>üí∞ ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</b><br>${details.money}</div>
          <div class="panel"><b>üíï ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å</b><br>${details.love}</div>
        </div>
      `;
      document.title = `${card.name_en} ‚Äì ‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏û‡πà‡∏¢‡∏¥‡∏õ‡∏ã‡∏µ`;
    }

    function loadFront(baseUrl, reversed){
      const imgFront = document.getElementById('imgFront');
      const skF = document.getElementById('skFront');
      skF.hidden = false;
      imgFront.onload = ()=> skF.hidden = true;
      imgFront.onerror = ()=> skF.hidden = true;
      imgFront.classList.toggle('rotated', reversed);
      imgFront.srcset = WIDTHS.map(w => thumb(baseUrl, w) + ' ' + w + 'w').join(', ');
      imgFront.sizes = '(max-width: 480px) 320px, (max-width: 768px) 480px, 640px';
      imgFront.src = thumb(baseUrl, 480);
    }

    function flipReveal(){
      if (animating) return;
      animating = true;
      const flip = document.getElementById('flip');

      const c = CARDS[Math.floor(Math.random()*CARDS.length)];
      const reversed = Math.random() < REVERSED_PROB;

      loadFront(c.img, reversed);
      updateUI(c, reversed);

      // ‡∏´‡∏≤‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏û‡πà ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏û‡πà‡∏Å‡πà‡∏≠‡∏ô (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô)
      const currentComputed = angle % 360;
      if (currentComputed === 0){
        flip.style.transition = 'none';
        angle = 180;
        flip.style.transform = `rotateY(${angle}deg)`;
        void flip.offsetWidth; // reflow
      }
      flip.style.transition = 'transform var(--dur) cubic-bezier(.2,.7,.1,1)';
      angle = 360;
      flip.style.transform = `rotateY(${angle}deg)`;

      setTimeout(()=>{ animating = false; }, 1200);
      try{ playChime(); }catch(e){}
    }

    document.getElementById('drawBtn').addEventListener('click', flipReveal);
  </script>
</body>
</html>
